<div *ngIf="orderSent" class="m-4 text-center">
  <h2>Thanks!</h2>
  <p>Thanks for placing your order.</p>
  <p>We'll ship your goods as soon as possible.</p>
  <button class="btn btn-primary" routerLink="/store">Return to Store</button>
</div>
<form *ngIf="!orderSent" #form="ngForm" novalidate
      (ngSubmit)="submitOrder(form)" class="m-a-1">
  <div class="bg-danger p-4 mb-4" *ngIf="submitted && form.invalid">
    There are problems with the form
  </div>
  <div class="form-group">
    <label>
      Name:
      <input class="form-control" #name="ngModel" name="name" minlength="3" pattern="^[A-Za-z]+$"
             [(ngModel)]="order.name" required />
    </label>
    <ul class="text-danger list-unstyled" *ngIf="submitted && name.dirty && name.invalid">
      <li *ngFor="let error of getValidationMessages(name)">
        {{error}}
      </li>
    </ul>
  </div>
  <div class="form-group">
    <label>
      Surname:
      <input class="form-control" #surname="ngModel" name="surname" minlength="3" pattern="^[A-Za-z]+$"
             [(ngModel)]="order.surname" required />
    </label>
    <ul class="text-danger list-unstyled" *ngIf="submitted && surname.dirty && surname.invalid">
      <li *ngFor="let error of getValidationMessages(surname)">
        {{error}}
      </li>
    </ul>
  </div>
  <div class="form-group">
    <label>
      Email:
      <input class="form-control" #email="ngModel" name="email" pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
             [(ngModel)]="order.email" required />
    </label>
    <ul class="text-danger list-unstyled" *ngIf="submitted && email.dirty && email.invalid">
      <li *ngFor="let error of getValidationMessages(email)">
        {{error}}
      </li>
    </ul>
  </div>
  <div class="form-group">
    <label>
      Phone:
      <input class="form-control" #phone="ngModel" name="phone" pattern="^\+?\d{2}[- ]?\d{3}[- ]?\d{5}$"
             [(ngModel)]="order.phone" required />
    </label>
    <ul class="text-danger list-unstyled" *ngIf="submitted && phone.dirty && phone.invalid">
      <li *ngFor="let error of getValidationMessages(phone)">
        {{error}}
      </li>
    </ul>
  </div>
  <div class="form-group">
    <label>
      Country:
      <input class="form-control" #country="ngModel" name="country" minlength="4" pattern="^[A-Za-z]+$"
             [(ngModel)]="order.country" required />
    </label>
    <ul class="text-danger list-unstyled" *ngIf="submitted && country.dirty && country.invalid">
      <li *ngFor="let error of getValidationMessages(country)">
        {{error}}
      </li>
    </ul>
  </div>
  <div class="form-group">
    <label>
      City:
      <input class="form-control" #city="ngModel" name="city" minlength="3" pattern="^[A-Za-z ]+$"
             [(ngModel)]="order.city" required />
    </label>
    <ul class="text-danger list-unstyled" *ngIf="submitted && city.dirty && city.invalid">
      <li *ngFor="let error of getValidationMessages(city)">
        {{error}}
      </li>
    </ul>
  </div>
  <div class="form-group">
    <label>
      Zip/Postal Code:
      <input class="form-control" #zip="ngModel" name="zip" minlength="5" pattern="^[0-9]+$"
             [(ngModel)]="order.zip" required />
    </label>
    <ul class="text-danger list-unstyled" *ngIf="submitted && zip.dirty && zip.invalid">
      <li *ngFor="let error of getValidationMessages(zip)">
        {{error}}
      </li>
    </ul>
  </div>
  <div class="form-group">
    <label>
      Address:
      <input class="form-control" #address="ngModel" name="address"
             [(ngModel)]="order.address" required/>
    </label>
    <ul class="text-danger list-unstyled" *ngIf="submitted && address.dirty && address.invalid">
      <li *ngFor="let error of getValidationMessages(address)">
        {{error}}
      </li>
    </ul>
  </div>
  <div class="text-xs-center">
    <button class="btn btn-secondary" routerLink="/cart">Back</button>
    <button class="btn btn-primary" type="submit">Complete Order</button>
  </div>
</form>
